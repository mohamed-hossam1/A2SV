# Problem: I - Coins - https://atcoder.jp/contests/dp/tasks/dp_i

#include <bits/stdc++.h>

using namespace std;
int main() {
 fast_io;
 int N;
 cin >> N;
 vector<double> probabilities(N);
 for (int i = 0; i < N; i++) {
  cin >> probabilities[i];
 }
 vector<double> DP(N + 1, 0);
 DP[0] = 1.0;
 for (int i = 0; i < N; i++) {
  for (int j = i + 1; j >= 0; j--) {
   if (j == 0) {
    DP[j] = (0 + DP[j] * (1 - probabilities[i]));
   }
   else {
    DP[j] = DP[j] * (1 - probabilities[i]) + DP[j - 1] * probabilities[i];
   }
  }
 }
 double ans = 0.0;
 for (int i = 0; i < N + 1; i++) {
  int tails = N - i;
  if (i > tails) { ans += DP[i]; }
 }
 cout << fixed << setprecision(10) << ans << endl;

}